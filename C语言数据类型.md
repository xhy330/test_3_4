# C语言数据类型

## 1. 计算机中的基本组成单位：



| 单位名称   | 解释或换算                 |
| :--------- | -------------------------- |
| bit        | 比特位，计算机中的基本单位 |
| byte(字节) | 8bit                       |
| kb         | 1024byte                   |
| mb         | 1024kb                     |
| gb         | 1024mb                     |
| tb         | 1024gb                     |
| pb         | 1024tb                     |

计算机中识别的二进制(0, 1)就是一个bit。



## 2. C语言中的数据类型

| 数据类型  | 字节长度 |
| --------- | -------- |
| char      | 1        |
| short     | 2        |
| int       | 4        |
| long      | 4        |
| long long | 8        |
| float     | 4        |
| double    | 8        |

**C语言中的标准规定，sizeof(long) >= sizeof(short)即可。**



## 3. 变量

### 1. 全局变量和局部变量

 当局部变量和全局变量重名后，局部变量优先使用。

### 2. 变量作用域和生命周期

#### 作用域

> 作用域，通常来说一段程序代码中所用到的名字并不总是有效/可用的。
>
> 而限定这个名字的可用性的代码范围就是这个名字的作用域。  

**局部变量的作用域是变量所在的范围。**  

**全局变量的作用域是整个工程。**  



#### 生命周期

**局部变量的生命周期是从进入作用域开始，到离开作用域结束为止。**  

**全局变量的生命周期是整个程序。**



### const修饰的常变量

```c
int arr[10] = {0};

const int n = 10;
int arr2[n] = {0};	//n是变量，这里是不行的。它需要常量。
```

const只是想变量进行限制，具有一定的常量属性而已，本质仍然是变量。



### 枚举常量

```c
enum Sex{
  // 这种枚举类型的变量未来可能的取值
  MALE,
  FEMALE,
  SECRET
};

// 使用，只能是Sex中的东西
enum Sex s = MALE;
```



## 4. 字符串

在c语言中，字符串默认是以 '\0' 为结束标志的。

```c
char arr1[] = "abc";
char arr2[] = {'a', 'b', 'c'};
```

两个输出的结果不一样，后者会出现乱码，因为找不到终止的'\0'，所以就一直往后找下去。

'\0'仅仅是一个结束标志，不算长度。

## 5. 操作符

### 1. ~ 按位取反操作符

```c
int a = 0;
printf("%d\n", ~a);
```

这个程序的结果是-1

**解析：**

~ 按(二进制)位取法	把所有二进制中数字，1变成0，0变成1(符号位也变)

整数在内存中存储的是补码

一个整数的二进制表示由中，原码、反码、补码。

-1：针对负数的、正整数的原反补一样(规定)

10000000000000000000000000000001	（原码）

11111111111111111111111111111110	（反码）在原码的基础上第一个符号位不变，然后其他的数字0变成1，1变成0。

11111111111111111111111111111111	（补码）在反码的基础上加1



整数a

0

二进制：

00000000000000000000000000000000

11111111111111111111111111111111		~a（补码）

我们通过补码可知，最高位是1，这个是负数，所以就运用上述的负数的方式计算出原码。

先从补码变成反码，反码取反到原码

**原码到反码，符号位不变，其他数按位取反。反码到补码，原来的基础上+1即可**



### 2. ++和--

1. 前置++，是先++，后使用
2. 后置++，是先使用，后++

## 关键字

1. auto 是自动的，每个局部变量都是自动的。自动创建、自动销毁	--自动变量

2. extern 是用来声明外部符号的

3. register 寄存器关键字  **因为数据都是被送到CPU的。但是CUP处理越来越快，内存更不是了，所以就出现了寄存器，提前送到CPU中。**

4. signed 有符号的

5. unsigned 无符号的

6.  static修饰局部变量的时候，改变了局部变量的生命周期(本质上是改变了变量的存储类型)

7.  static修饰全局变量的时候，使得这个全局变量只能在自己所在的源文件内部可以使用，其他源文件则不行。

   



**问题：**

define是不是关键字？include是不是关键字？

不是，它们都是预处理指令。

**注意：**

全局变量在其他源文件内部可以被使用，是因为全局变量具有外部连接属性，但是被static修饰之后，就变成了内部链接属性。其他源文件就不能链接到这个静态的全局变量了！static修饰的函数也是一样的，本质就是将函数的外部链接属性变成了内部链接属性！



## define 定义宏 

#define ADD(X, Y) X+Y

就是将ADD(X, Y)替换成了 X+Y

```c
4*ADD(2, 3);
```

这个输出的结果是11，解析成了4*2+3，所以我们就修改成如下：

#define ADD(X, Y) ((X)+(Y))

因为X、Y也可能是某个表达式，结果也可能是表达式。